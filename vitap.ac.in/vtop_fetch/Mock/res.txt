
	/*<![CDATA[*/			
			
		viewRegOption();
		
		var logoutMsg = null;				
		
		if ((logoutMsg != null) && (logoutMsg != ""))
		{
			swal({
		    	title: logoutMsg,
		    	type : 'info',
		    	confirmButtonColor: '#3085d6'
			},
			
			function(button) 
			{			
			    if (button == true) 
			    {
			    	window.setTimeout(function ()
			    	{
			    		
			    	}, 0);		    			    	
			    }
			});
		}

		$(function() 
		{
			$('#searchValue').keyup(function() 
			{
				$(this).val($(this).val().toUpperCase());
			});
		});	
		
		//Moving the page to top of the Browser
		function scrollToTop()
		{
		  document.body.scrollTop = 0; // For Safari
		  document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
		}
		
		
		 function viewRegOption() 
		{	
			var bindData = new FormData(document.getElementById("mainPageForm"));
			
			// Block the UI with a loading message and image
			$.blockUI({
			    message: '<img src="assets/img/482.GIF"> loading... Just a moment...'
			});

			// Set a timeout to unblock after 5 seconds (5000 milliseconds)
			setTimeout(function() {
			    $.unblockUI();
			}, 5000);  // 5000 milliseconds = 5 seconds

						
			$.ajax({
				url : "viewRegistrationOption",
				type : "POST",
				data : bindData,	
				cache : false,
				processData : false,
				contentType : false,													
				success : function(response) 
				{				
					$('#page-wrapper').html(response);
					$.unblockUI();				
				}
			});
		} 
			
		
		function viewSearchRegistrationOption(regOption,subCourseOpt) 
		{	
			var params = "registrationOption="+ regOption +"&pageSize=10&page=1&subCourseOption="+ 
							subCourseOpt +"&flag=0";
			
			$.blockUI({message : '<img src="assets/img/482.GIF"> loading... Just a moment.....'});
			
			$.ajax({
				url : "processRegistrationOption",
				type : "POST",
				data : params,
				success : function(response) 
				{				
					$('#page-wrapper').html(response);
					$.unblockUI();
				}
			});
		} 
		


		function viewRegistrationOption(event) {
		    // Block the UI with a loading message and image
		    $.blockUI({
		        message: '<img src="assets/img/482.GIF"> loading... Just a moment....'
		    });

		    var subCourseOpt = "";
		    var chkFlag = 0;
		    var regOption = $('input[name=registrationOption]:checked').val();

		    // Check if registration option is selected
		    if ($('input[name=registrationOption]:checked').length <= 0) {
		        swal({
		            title: "Choose Any One Option",
		            confirmButtonColor: '#3085d6'
		        }, function(button) {
		            if (button == true) {
		                window.setTimeout(function () {
		                    // Empty function for timeout logic (if needed)
		                }, 0);
		            }
		        });
		        $.unblockUI();  // Unblock the UI in case of error
		        return false;
		    } else {
		        chkFlag = 1;
		    }

		    if (chkFlag == 1) {
		        // Prepare CSRF token and parameters for the request
		        var csrfId = event.getAttribute('data-csrfname') + "=" + event.getAttribute('data-csrfvalue');
		        var params = "registrationOption=" + regOption + "&pageSize=10&page=1"
		                    + "&subCourseOption=" + subCourseOpt + "&flag=0"
		                    + "&" + csrfId;

		        // Make the AJAX request directly (without any delay)
		        $.ajax({
		            url: "processRegistrationOption",
		            type: "POST",
		            data: params,
		            success: function(response) {
		                // Update the page content with the response
		                $('#page-wrapper').html(response);
		                $.unblockUI();  // Unblock the UI after the request completes
		            },
		            error: function(xhr, status, error) {
		                // Ensure the UI is unblocked in case of an error
		                $.unblockUI();
		                console.error('AJAX error: ' + status + ' - ' + error);
		            }
		        });
		    }
		}

			
		function searchOptionChange(val) 
		{				
			if (val == 1) 
			{				
				document.getElementById("searchRow3").style.display="none";
			}
			
			else if (val == 2)
			{
				document.getElementById("searchRow3").style.display="";				
				document.getElementById("searchValue").value = "";
			}
			else if (val == 3)
			{
				document.getElementById("searchRow3").style.display="";
				document.getElementById("searchValue").value = "";
			}					
		}
		
		function findBtnSearchValue() 
		{
			var searchOpt = $('#searchOption :selected').val();
			var searchVal = $('#searchValue').val();
			var dataParameter = "&pageSize=10&page=1&searchType=" + searchOpt + "&searchVal=" + searchVal;
			
			$.blockUI({message : '<img src="assets/img/482.GIF"> loading... Just a moment...'});

			$.ajax({
				url : "processSearch",
				type : "POST",
				data : dataParameter,
				success : function(response) 
				{
					$('#page-wrapper').html(response);
					$.unblockUI();
				}
			});
		}		

	
		
		function viewRegistered() {
		    var bindData = new FormData(document.getElementById("mainPageForm"));            

		    // Block the UI with a loading message and image
		    $.blockUI({
		        message: '<img src="assets/img/482.GIF"> loading... Just a moment...'
		    });

		    // Send the AJAX request immediately (no delay)
		    $.ajax({
		        url: "viewRegistered",
		        type: "POST",
		        data: bindData,
		        cache: false,
		        processData: false,
		        contentType: false,
		        success: function(response) {
		            // Update the page content with the response
		            $('#page-wrapper').html(response);
		            $.unblockUI();  // Unblock the UI after the request completes
		        },
		        error: function(xhr, status, error) {
		            // Ensure the UI is unblocked in case of an error
		            $.unblockUI();
		            console.error('AJAX error: ' + status + ' - ' + error);
		        }
		    });
		}



		/* function deleteCourse() 
		{
			var bindData = new FormData(document.getElementById("mainPageForm"));
			
			$.blockUI({message : '<img src="assets/img/482.GIF"> loading... Just a moment...'});
			
			$.ajax({
				url : "deleteRegisteredCourse",
				type : "POST",
				data : bindData,
				cache : false,
				processData : false,
				contentType : false,								
				success : function(response) 
				{
					$('#page-wrapper').html(response);
					$.unblockUI();
				}
			});
		} */
		
		function deleteCourse() 
		{
			$.blockUI({message : '<img src="assets/img/482.GIF"> loading... Just a moment...'});
			
			$.ajax({
				url : "deleteRegisteredCourse",
				type : "POST",
				cache : false,
				processData : false,
				contentType : false,
													
				success : function(response) 
				{
					$.unblockUI();
					$('#page-wrapper').html(response);					
					if (showFlag==0)
					{						
						//document.getElementById("showFlag").style.display="none";
						document.getElementById("searchRow3").style.display="none";
						document.getElementById("NotesRow").style.display="";
					}
					viewCredits();
				}
			});
		}
		
		function curriculumCredits() 
		{
			var bindData = new FormData(document.getElementById("mainPageForm"));
			
			$.blockUI({message : '<img src="assets/img/482.GIF"> loading... Just a moment...'});
			
			$.ajax({
				url : "viewCurriculumCredits",
				type : "POST",
				data : bindData,
				cache : false,
				processData : false,
				contentType : false,							
				success : function(response) 
				{
					$('#page-wrapper').html(response);
					$.unblockUI();
				}
			});
		}
		
		function callCourseRegistration(courseId, page, searchType, searchVal, event) 
		{
			if (typeof $("#pageNo").val() !== "undefined")
			{
				page = $("#pageNo").val();
			}
			
			var csrfId = event.getAttribute('data-csrfname') + "=" + event.getAttribute('data-csrfvalue');
			var dataParameter = "courseId="+ courseId +"&page="+ page 
									+"&searchType="+ searchType +"&searchVal=" + searchVal 
									+"&"+ csrfId;
						
			$.blockUI({message : '<img src="assets/img/482.GIF"> loading... Just a moment...'});
			
			$.ajax({
				url : "processCourseRegistration",
				type : "POST",
				data : dataParameter,
				success : function(response) 
				{		
					$('#page-wrapper').html(response);
					$.unblockUI();
				}				
			});
			
			scrollToTop();
		}
		
		function getResults(pageSize, page, searchType, searchVal) 
		{
			if (page) 
			{
				params = "pageSize=" + pageSize + "&page=" + page + "&searchType=" + searchType + "&searchVal=" + searchVal + "&flag=1";
			} 
			else 
			{
				params = "pageSize=" + pageSize + "&searchType=" + searchType + "&searchVal=" + searchVal + "&flag=1";
			}
			
			$.blockUI({message : '<img src="assets/img/482.GIF"> loading.... Just a moment...'});
		
			$.ajax({
				url : "processRegistrationOption",
				type : "POST",
				data : params,
				success : function(response) 
				{	
					$("#cclistfrag").html(response);
					$.unblockUI();
				},
				error : function(jqXHR, textStatus, errorMessage) 
				{
					$.unblockUI();
				}
			});
		}
		
		function callPageOnLoad()
		{
			var pageSize = $("#selectedPageSize").val();
			var page = $("#pageNo").val();
			var searchType = $("#srhType").val();
			var searchVal = $("#srhValue").val();
			var totalPage = $("#totalPage").val();
									
			getResults2(pageSize, page, searchType, searchVal, totalPage);
		}
		
		function getResults2(pageSize, page, searchType, searchVal, totalPage)
		{							
			if (parseInt(page) <= 0)
			{
				page = 1;
			}
			else if (parseInt(page) >= parseInt(totalPage))
			{
				page = totalPage;
			}
			$("#pageNo").val(page);
									
			var halfPagesToShow = pageSize / 2;
			var startPage = 0, endPage = 0;

			if (parseInt(totalPage) <= parseInt(pageSize))
			{
				startPage = 1;
				endPage = totalPage;
			}
			else if ((parseInt(page) - parseInt(halfPagesToShow)) <= 0)
			{
				startPage = 1;
				endPage = pageSize;
			}
			else if ((parseInt(page) + parseInt(halfPagesToShow)) == parseInt(totalPage))
			{
				startPage = parseInt(page) - parseInt(halfPagesToShow);
				endPage = totalPage;
			}
			else if ((parseInt(page) + parseInt(halfPagesToShow)) > parseInt(totalPage))
			{
				startPage = (parseInt(totalPage) - parseInt(pageSize)) + 1;
				endPage = totalPage;
			}
			else
			{
				startPage = parseInt(page) - parseInt(halfPagesToShow);
				endPage = parseInt(page) + parseInt(halfPagesToShow);
			}
			
			for (var i=1; i <= totalPage; i++) 
			{
				if (parseInt(i) == parseInt(page)) 
				{				
					document.getElementById("pageDivId"+i).style.display = "block";
					document.getElementById("pgNoLiId1_"+i).className = "active pointer-disabled";
					document.getElementById("pgNoLiId2_"+i).className = "active pointer-disabled";
				}
				else
				{
					document.getElementById("pageDivId"+i).style.display = "none";
					document.getElementById("pgNoLiId1_"+i).className = "disabled";
					document.getElementById("pgNoLiId2_"+i).className = "disabled";
				}
				
				if ((parseInt(i) >= parseInt(startPage)) && (parseInt(i) <= parseInt(endPage)))
				{
					document.getElementById("pgNoLiId1_"+i).style.display = "block";
					document.getElementById("pgNoLiId2_"+i).style.display = "block";
				}
				else
				{
					document.getElementById("pgNoLiId1_"+i).style.display = "none";
					document.getElementById("pgNoLiId2_"+i).style.display = "none";
				}
			}
		}
		
		function processPageNumbers(pageSize, page, searchType, searchVal, totalPage, processType) 
		{
			if (page) 
			{
				params = "pageSize="+ pageSize +"&page="+ page 
							+"&searchType="+ searchType +"&searchVal="+ searchVal 
							+"&totalPage="+ totalPage +"&processType="+ processType;
			} 
			else 
			{
				params = "pageSize="+ pageSize +"&searchType="+ searchType 
							+"&searchVal="+ searchVal +"&totalPage="+ totalPage 
							+"&processType="+ processType;
			}
			
			$.blockUI({message : '<img src="assets/img/482.GIF"> loading... Just a moment...'});
			
			$.ajax({
				url : "processPageNumbers",
				type : "POST",
				data : params,
			
				success : function(response) 
				{
					if (processType == 1)
					{
						$('#pageNoFrag').html(response);
					}
					else if (processType == 2)
					{
						$('#pageNoFrag2').html(response);
					}
					
					$.unblockUI();
				}
			});
		}

		function call_search(searchType) 
		{
			var dataParameter = "";

			if (parseInt(searchType) == 1) 
			{
				getResults(5,0,searchType,document.CourseCatalogue.code.value);
			} 
			else if (parseInt(searchType) == 2) 
			{
				getResults(5,0,searchType,document.CourseCatalogue.title.value);
			} 
			else 
			{
				getResults(5,0,0,"");
			}
		}

		function scrollToBottom(id) 
		{
			div_height = $("#" + id).height();
			div_offset = $("#" + id).offset().top;
			window_height = $(window).height();
			$('html,body').animate({
				scrollTop : div_offset - window_height + div_height
			}, 'slow');
		} 
		/************COURSE LIST*****************/

		/************COURSE REGISTRATION*****************/
		
		function RegisterProjectCourse(urlPage, event) 
		{			
			var costCentreId = "";
			var guideEmpId =  "";
			var projectTitle = "";
			var courseCode = $('#courseCodehid').val();
			var courseType = $('#courseTypehid').val();
			var courseId = $('#courseIdhid').val();
			var clashSlot = $('#clashSlot').val();
			var classId = $('#classId').val();
			var slotId = $('#slotId').val();
			var page = $('#page').val();
			var programCode = $('#programCode').val();
			var evaluationType = $('#evaluationType').val();
			var searchVal = $('#searchVal').val();
			var searchType = $('#searchType').val();
			var courseOption = $('#courseOption').val();
			var projectOption = $("input[name='projectOption']:checked").val();
			
			var projectDuration = $('#projectDuration').val();
			if (typeof projectDuration === "undefined")
			{
				projectDuration = 0;
			}
						
			var subCourseOption = "";
			var vldFlg = 0;
			var vldFlg = 1;
			var vldFlg2 = 1;
			
			if ((evaluationType == 'GUIDE') || (evaluationType == 'CAPSTONE')){
				
				if ($('input[name=projectOption]:checked').length <= 0) 
				{
					vldFlg2 = 2;					
					swal({
				    	title: "Select Project Option",			    	
				    	confirmButtonColor: '#3085d6'
					},
					
					function(button) 
					{			
					    if (button == true) 
					    {
					    	window.setTimeout(function ()
					    	{
					    		
					    	}, 0);		    			    	
					    }					    
					});					
				}else{
					vldFlg2 = 1;
				}
				
				if(projectOption=='RGR' && vldFlg2 == 1)
				{
					costCentreId = $('#guideSchoolWise').val();
					guideEmpId =  $('#guideId').val();
					projectTitle = $('#projectTitle').val();
					
					if ((costCentreId == '') || (costCentreId == '0')){
						vldFlg = 2;					
						swal({
					    	title: "Select School [Cost Centre]",			    	
					    	confirmButtonColor: '#3085d6'
						},
						
						function(button) 
						{			
						    if (button == true) 
						    {
						    	window.setTimeout(function ()
						    	{
						    		
						    	}, 0);		    			    	
						    }					    
						});					
					}
					
					if (vldFlg == 1){
						if ((guideEmpId == '') || (guideEmpId == 'NONE')){
							vldFlg = 2;
							
							swal({
						    	title: "Select Project Guide",			    	
						    	confirmButtonColor: '#3085d6'
							},
							
							function(button) 
							{			
							    if (button == true) 
							    {
							    	window.setTimeout(function ()
							    	{
							    		
							    	}, 0);		    			    	
							    }
							});						
						}
					}
					if (vldFlg == 1){
						if (projectTitle == ''){
							vldFlg = 2;						
							swal({
						    	title: "Enter Project Title",			    	
						    	confirmButtonColor: '#3085d6'
							},
							
							function(button) 
							{			
							    if (button == true) 
							    {
							    	window.setTimeout(function ()
							    	{
							    		
							    	}, 0);		    			    	
							    }
							});						
						}
					}
					
					if ((vldFlg == 1))
					{
						if (document.getElementById("projectDurationOption")!=null)
						{
							if ($('input[name=projectDurationOption]:checked').length <= 0) 
							{				
								vldFlg = 2;
								swal({
								   	title: "Choose Any One Option for Project Duration",			    	
								   	confirmButtonColor: '#3085d6'
								},
									
								function(button) 
								{			
									if (button == true) 
									{
										window.setTimeout(function ()
									    {
									       	
									    }, 0);		    			    	
									}
								});
							}	
						}
						
					}
				}else{
					vldFlg == 1;
				}
				
			}		
									
			if (vldFlg == 1 && vldFlg2 == 1)
			{				
				var csrfId = event.getAttribute('data-csrfname') + "=" + event.getAttribute('data-csrfvalue');
				var dataParameter =	"costCentreId="+ costCentreId +"&guideErpId="+ guideEmpId 
										+"&projectTitle="+ projectTitle +"&courseCode="+ courseCode 
										+"&courseType="+ courseType +"&courseId="+ courseId 
										+"&projectOption="+ projectOption +"&clashSlot=" + clashSlot 
										+"&slotId="+ slotId +"&page="+ page 
										+"&classId="+ classId +"&projectDuration="+ projectDuration 
										+"&searchType="+ searchType +"&searchVal="+ searchVal 
										+"&courseOption="+ courseOption +"&subCourseOption="+ subCourseOption 
										+"&"+ csrfId;
				
				$.blockUI({message : '<img src="assets/img/482.GIF"> loading... Just a moment...'});
				
				$.ajax({
					url : urlPage,
					type : "POST",
					data : dataParameter,
					success : function(response) 
					{
						$('#page-wrapper').html(response);
						$.unblockUI();
					}
				});
			}
		}
				
		function enablecourseOption()
		{
			var courseOption = document.getElementsByName("CourseOption");
			
			for (var i = 0; i < courseOption.length; i++) 
			{
				if (courseOption[i].checked == true)
				{
					var d = courseOption[i].value;					
					
					if (d == 'MIN')
					{
						document.getElementById("show1").style.visibility = "visible";
							
						if (document.getElementById("show2")!=null)
						{
							document.getElementById("show2").style.visibility = 'hidden';
							document.getElementById("subCourseOption").selectedIndex = 0;
						}
						
						if (document.getElementById("show3")!=null)
						{
							document.getElementById("show3").style.visibility = 'hidden';
							document.getElementById("subCourseOption").selectedIndex = 0;
						}														
					}
					else if (d == 'HON')
					{
						document.getElementById("show2").style.visibility = "visible";
						
						if (document.getElementById("show1")!=null)
						{
							document.getElementById("show1").style.visibility = 'hidden';
							document.getElementById("subCourseOption").selectedIndex = 0;
						}
						
						if (document.getElementById("show3")!=null)
						{
							document.getElementById("show3").style.visibility = 'hidden';
							document.getElementById("subCourseOption").selectedIndex = 0;
						}							
					}
					else if (d == 'CS')
					{
						document.getElementById("show3").style.visibility = "visible";
						if (document.getElementById("show2")!=null)
						{
							document.getElementById("show2").style.visibility = 'hidden';
							document.getElementById("subCourseOption").selectedIndex = 0;
						}
						
						if (document.getElementById("show1")!=null)
						{
							document.getElementById("show1").style.visibility = 'hidden';
							document.getElementById("subCourseOption").selectedIndex = 0;
						}																		
					}
					else
					{
						if (document.getElementById("show1")!=null)
						{
							document.getElementById("show1").style.visibility = 'hidden';
							document.getElementById("subCourseOption").selectedIndex = 0;
						}
						
						if (document.getElementById("show2")!=null)
						{
							document.getElementById("show2").style.visibility = 'hidden';
							document.getElementById("subCourseOption").selectedIndex = 0;
						}
						
						if (document.getElementById("show3")!=null)
						{
							document.getElementById("show3").style.visibility = 'hidden';
							document.getElementById("subCourseOption").selectedIndex = 0;
						}														
					}
				}
			}			
		}

		function registerCourse(urlPage, event) 
		{	
			var classId1 = $('input:radio[name=classnbr1]:checked').val();
			var classId2 = "";
			var classId3 = "";			
			var courseCode = $("#courseCodehid").val();
			var courseType = $("#courseTypehid").val();
			var courseId = $("#courseIdhid").val();
			var clashSlot = $('#clashSlots1').val() + ",";			
			var chkflg = 1;
			var courseOption = "";
			var subCourseOption = "";
			var subCourseType = "";
			var subCourseDate = "";
			var courseFlg = $('#courseFlag').val();
			var searchVal =  $('#searchVal').val();
			var searchType =$('#searchType').val();
			var epjSlotFlag = $('#epjSlotFlag').val();
			var compName = "";
			
			var crCourseStatus = $("#crCourseStatus").val();
			var crCourseId = $("#crCourseId").val();
			var crCourseCode = $("#crCourseCode").val();
			var crCourseType = $("#crCourseType").val();
						
			var clArr = [];			
			$("input[name='courseType']").each(function() 
			{	
				clArr.push($(this).val());	
				
				if ($(this).val() == 'ETH')
				{
					compName = "Embedded Theory";	
				}				
				else if ($(this).val() == 'TH')
				{
					compName = "Theory";	
				}
				else if ($(this).val() == 'EPJ')
				{
					compName = "Embedded Project";	
				}
				else if ($(this).val() == 'ELA')
				{
					compName = "Embedded Lab";	
				}
				else if ($(this).val() == 'LO')
				{
					compName = "Lab";	
				}
				else if ($(this).val() == 'SS')
				{
					compName = "Soft Skill";	
				}
				else if ($(this).val() == 'OC')
				{
					compName = "Online";	
				}
				
				if (($(this).val() == 'ETH') || ($(this).val() == 'TH') || ($(this).val() == 'SS') 
						|| ((crCourseStatus != 1) && ($(this).val() == 'LO')) || ($(this).val() == 'OC'))
				{
					
					if (document.getElementById("classnbr1")!=null)
					{					
						if ($('input[name=classnbr1]:checked').length <= 0) 
						{
							chkflg = 0;						
							
							swal({
						    	title: compName + " Component is required",			    	
						    	confirmButtonColor: '#3085d6'
							},
							
							function(button) 
							{			
							    if (button == true) 
							    {
							    	window.setTimeout(function ()
							    	{
							    		
							    	}, 0);		    			    	
							    }
							});
						}
					}
					else
					{
						chkflg = 0;						
						swal({
					    	title: compName + " Component Seat(s) are full. So, you cannot register with this component",			    	
					    	confirmButtonColor: '#3085d6'
						},
						
						function(button) 
						{			
						    if (button == true) 
						    {
						    	window.setTimeout(function ()
						    	{
						    		
						    	}, 0);		    			    	
						    }
						});
					}
				}
				
				
				if (($(this).val() == 'ELA') || ((crCourseStatus == 1) && ($(this).val() == 'LO')))
				{
					if (chkflg == 1) 
					{						
						if (document.getElementById("classnbr2")!=null)
						{
							if ($('input[name=classnbr2]:checked').length <= 0) 
							{						
								chkflg = 0;
								
								swal({
							    	title: "Select the required " + compName + " Component",			    	
							    	confirmButtonColor: '#3085d6'
								},
								
								function(button) 
								{			
								    if (button == true) 
								    {
								    	window.setTimeout(function ()
								    	{
								    		
								    	}, 0);		    			    	
								    }
								});
							}
						}
						else
						{
							chkflg = 0;
							
							swal({
						    	title: compName + " Component Seat(s) Are Full, Please Select any other slot",			    	
						    	confirmButtonColor: '#3085d6'
							},
							
							function(button) 
							{			
							    if (button == true) 
							    {
							    	window.setTimeout(function ()
							    	{
							    		
							    	}, 0);		    			    	
							    }
							});	
						}
					}
					classId2 = $('input:radio[name=classnbr2]:checked').val();
					clashSlot = clashSlot + $('#clashSlots2').val();					
				}				
				
				if ($(this).val() == 'EPJ')
				{
					if ((epjSlotFlag==1) && (chkflg == 1)) 
					{	
						if (document.getElementById("classnbr3")!=null)
						{
							if ($('input[name=classnbr3]:checked').length <= 0) 
							{								
								chkflg = 0;
								swal({
							    	title: "Select the required "+ compName + " Component",			    	
							    	confirmButtonColor: '#3085d6'
								},
								
								function(button) 
								{			
								    if (button == true) 
								    {
								    	window.setTimeout(function ()
								    	{
								    		
								    	}, 0);		    			    	
								    }
								});
							}								
						}
						else
						{
							chkflg = 0;
							
							swal({
						    	title: compName + " Component Seat(s) Are Full, Please Select any other slot",			    	
						    	confirmButtonColor: '#3085d6'
							},
							
							function(button) 
							{			
							    if (button == true) 
							    {
							    	window.setTimeout(function ()
							    	{
							    		
							    	}, 0);		    			    	
							    }
							});
						}
						classId3 = $('input:radio[name=classnbr3]:checked').val();
						clashSlot = clashSlot + $('#clashSlots3').val();							
					}
					
					else
					{					
						classId3 = $('#classnbr3').val();						
					}					
				}
			});
					

			if (courseFlg == 1) 
			{			
				if (chkflg == 1) 
				{					
					if ($('input[name=CourseOption]:checked').length <= 0) 
					{
						chkflg = 0;
						swal({
					    	title: "Select the course option",			    	
					    	confirmButtonColor: '#3085d6'
						},
					
						function(button) 
						{			
						    if (button == true) 
						    {
						    	window.setTimeout(function ()
						    	{
						    		
						    	}, 0);		    			    	
						    }
						});
					} 
					else 
					{	
						courseOption =  $('input[name=CourseOption]:checked').val();						
					
						if ((courseOption == 'CS') || (courseOption == 'HON') || (courseOption == 'MIN'))
						{
							var crschkfg = 2;
							var subCourseOption = document.getElementsByName("subCourseOption");
							for (var i = 0; i < subCourseOption.length; i++) 
							{
								if (subCourseOption[i].selectedIndex !=0)
								{
									var crschkfg = 1;
									var d2 = subCourseOption[i].value;							
								}	
							}
							
							if (crschkfg == 2)
							{
								chkflg = 0;
								swal({
							    	title: "Select the Sub Course option",			    	
							    	confirmButtonColor: '#3085d6'
								},
							
								function(button) 
								{			
								    if (button == true) 
								    {
								    	window.setTimeout(function ()
								    	{
								    		
								    	}, 0);		    			    	
								    }
								});
							}
							else
							{
								subCourseOption = d2;								
							}
						}	
					}					
				}
			}
			
			if (courseFlg == 2) 
			{				
				courseOption =  $("#CourseOption").val();
				subCourseOption = $("#subCourseOption").val();				
			}
			
			if (courseFlg == 3) 
			{
				courseOption = $("#CourseOption").val();
				subCourseOption = $("#subCourseOption").val();
				subCourseType = $("#subCourseType").val();
				subCourseDate = $("#subCourseDate").val();
				crSubCourseOption = $("#crSubCourseOption").val();
				crSubCourseType = $("#crSubCourseType").val();
				crSubCourseDate = $("#crSubCourseDate").val();
			}
									
			if (chkflg == 1) 
			{
				var classIdVal = classId1 + "," + classId2 + "," + classId3;				
				var csrfId = event.getAttribute('data-csrfname') + "=" + event.getAttribute('data-csrfvalue');
				var dataParameter = "ClassID="+ classIdVal +"&courseId="+ courseId 
										+"&courseType="+ courseType +"&courseCode="+ courseCode 
										+"&courseOption="+ courseOption +"&clashSlot="+ clashSlot 
										+"&pageSize=10&page="+ $('#page').val() 
										+"&subCourseOption="+ subCourseOption +"&subCourseType=" + subCourseType 
										+"&subCourseDate="+ subCourseDate +"&searchType="+ searchType 
										+"&searchVal="+ searchVal +"&clArr="+ clArr 
										+"&epjSlotFlag="+ epjSlotFlag +"&crCourseStatus="+ crCourseStatus 
										+"&crCourseId="+ crCourseId +"&crCourseCode="+ crCourseCode 
										+"&crCourseType="+ crCourseType +"&crSubCourseOption="+ crSubCourseOption 
										+"&crSubCourseType="+ crSubCourseType +"&crSubCourseDate="+ crSubCourseDate
										+"&"+ csrfId;
				
				$.blockUI({message : '<img src="assets/img/482.GIF"> loading... Just a moment...'});
				
				$.ajax({
					url : urlPage,
					type : "POST",
					data : dataParameter,					
					success : function(response) 
					{
						$('#page-wrapper').html(response);
						$.unblockUI();
					}
				});
			} 
		}
	
		function goBack(event) 
		{			
			var csrfId = event.getAttribute('data-csrfname') + "=" + event.getAttribute('data-csrfvalue');
			var params = "&pageSize=10&page="+ $('#page').val() +"&searchType="+ $('#searchType').val() 
							+"&searchVal="+ $('#searchVal').val() +"&flag=0" 
							+"&"+ csrfId;

			$.blockUI({message : '<img src="assets/img/482.GIF"> loading... Just a moment...'});
			
			$.ajax({
				url : "processRegistrationOption",
				type : "POST",
				data : params,
				success : function(response) 
				{
					$('#page-wrapper').html(response);
					$.unblockUI();
				}
			});
		}
		
		function getSchoolWiseGuide(event) 
		{
			var guideSchoolOpt = $('#guideSchoolWise :selected').val();
			var csrfId = event.getAttribute('data-csrfname') + "=" + event.getAttribute('data-csrfvalue');
			var dataParameter = "guideSchoolOpt=" + guideSchoolOpt +"&"+ csrfId;
			
			$.blockUI({message : '<img src="assets/img/482.GIF"> loading... Just a moment...'});
			
			$.ajax({
				url : "getSchoolWiseGuideList",
				type : "POST",
				data : dataParameter,													
				success : function(response) 
				{	
					$('#ProjectGuideFragment').html(response);
					$.unblockUI();
				}
			});
		}		

		/************COURSE REGISTRATION*****************/

		/************DELETE CONFIRMATION*****************/

		function processDeleteOTPCourseRegistration(courseId, event) 
		{
			var csrfId = event.getAttribute('data-csrfname') + "=" + event.getAttribute('data-csrfvalue');
			var params = "courseId=" + courseId +"&"+ csrfId;
				
			$.blockUI({message : '<img src="assets/img/482.GIF"> loading... Just a moment...'});
			
			$.ajax({
				url : "processDeleteCourseRegistrationOTP",
				type : "POST",
				data : params,
				success : function(response) 
				{
					$('#page-wrapper').html(response);
					$.unblockUI();
				}				
			});
		}
		
		/* function processDeleteConfirmationCourseRegistration(courseId, event) 
		{
			d = document.DeleteConfirmation;
			var checkFlag = 2;
			
			if ((d.mailOTP.value.length<5) || (d.mailOTP.value.charAt(0)==" ")) 
			{
				d.mailOTP.select();
				d.mailOTP.focus();
				checkFlag = 2;
				swal("Enter E-Mail OTP & it should be 5 charaters.");
			}
			else
			{
				checkFlag = 1;
			}
			
			if (parseInt(checkFlag) == 1)
			{
				var mailOTP = $("#mailOTP").val();
				var csrfId = event.getAttribute('data-csrfname') +"="+ event.getAttribute('data-csrfvalue');
				var params = "courseId="+ courseId +"&mailOTP="+ mailOTP 
								+"&"+ csrfId;
			
				$.blockUI({message : '<img src="assets/img/482.GIF"> loading... Just a moment...'});
				
				$.ajax({
					url : "processDeleteConfirmationCourseRegistration",
					type : "POST",
					data : params,
					success : function(response) 
					{
						$('#page-wrapper').html(response);
						$.unblockUI();
					}				
				});
			}
		} */

		
		function processDeleteConfirmationCourseRegistration(courseId) {
		    var data = courseId.getAttribute('data-course-id');
		    // alert("Deleting course with ID: " + data);

		    // Step 1: Block the UI with a loading message or image
		    $.blockUI({
		        message: '<img src="assets/img/482.GIF"> loading... Please wait...'  // You can use any custom message or image
		    });

		    // Step 2: Send the AJAX request to delete the course
		    $.ajax({
		        url: "processDeleteConfirmationCourseRegistration",  // URL for the delete request
		        type: "POST",  // HTTP method for the request
		        data: { courseId: data },  // Pass the courseId in the request body
		        success: function(response) {
		            // Step 3: Handle the successful response
		            $('#page-wrapper').html(response);  // Update the page with the response data
		            viewCredits();  // Assuming viewCredits is a function defined elsewhere that refreshes credits or similar data
		        },
		        error: function(xhr, status, error) {
		            // Step 4: Handle any errors that occurred during the AJAX request
		            console.error("Error occurred while deleting course: " + error);
		        },
		        complete: function() {
		            // Step 5: Unblock the UI after the request is completed
		            $.unblockUI();
		        }
		    });
		}


		function processDeleteConfirmationCourseRegistrationRirect() {
		   /*  //alert("back"); */
		    // Prepare CSRF token data
		    var csrfName = $('[name=_csrf_parameter]').attr('content');
		    var csrfValue = $('[name=_csrf]').attr('content');
		    var csrfId = csrfName + "=" + csrfValue;
		    var params = csrfId;

		    $.blockUI({ message: '<img src="assets/img/482.GIF"> loading... Just a moment...' });

		    $.ajax({
		        url: "processDeleteConfirmationCourseRegistrationRirect",
		        type: "POST",
		        data: params,
		        success: function(response) {
		            $('#page-wrapper').html(response);
		            $.unblockUI();
		        },
		        error: function(xhr, status, error) {
		            // Handle errors if necessary
		            $.unblockUI();
		        }
		    });
		}




		/************DELETE COURSE*****************/
		/* function processDeleteCourseRegistration(courseId, event) 
		{
			var csrfId = event.getAttribute('data-csrfname') + "=" + event.getAttribute('data-csrfvalue');
			var params = "courseId=" + courseId +"&"+ csrfId;
				
			$.blockUI({message : '<img src="assets/img/482.GIF"> loading... Just a moment...'});
			
			$.ajax({
				url : "processDeleteCourseRegistration",
				type : "POST",
				data : params,
				success : function(response) 
				{
					$('#page-wrapper').html(response);
					$.unblockUI();
				}				
			});
		} */
		
		

		/************DELETE COURSE*****************/

		/************MODIFY EDIT*****************/
		/* function UpdateSlots(oldClassId,gCourseType, event) 
		{
			console.log("oldClassId "+oldClassId+" gCourseType "+gCourseType+" "+"event "+event);
			var chkflg = 1;
			var courseOption1 = "";
			
			if ($('input[name=courseOption]:checked').length <= 0) 
			{
				chkflg = 0;				
				swal({
			    	title: "Select the option",			    	
			    	confirmButtonColor: '#3085d6'
				},
			
				function(button) 
				{			
				    if (button == true) 
				    {
				    	window.setTimeout(function ()
				    	{
				    		
				    	}, 0);		    			    	
				    }
				});				
			} */
			
			
			function processDeleteCourseRegistration(button) {
			    // Step 1: Retrieve the course ID from the data attribute of the button
			    var courseId = $(button).data("course-id");
			    // alert("Course ID: " + courseId); 

			    // Step 2: Block the UI with a loading message before making the request
			    $.blockUI({
			        message: '<img src="assets/img/482.GIF"> loading... Please wait...'  // You can replace the image with your own or use text.
			    });

			    // Step 3: Prepare and send the AJAX request
			    $.ajax({
			        url: "processDeleteCourseRegistration",  // Replace with your actual URL endpoint
			        type: "POST",  // Adjust the HTTP method if needed
			        data: { courseId: courseId },  // Pass the courseId as data
			        beforeSend: function(xhr) {
			            // You can perform any actions before sending the request here if needed
			        },
			        success: function(response) {
			            // Handle the successful response here
			            $('#page-wrapper').html(response);  // Replace '#page-wrapper' with your target element
			        },
			        error: function(xhr, status, error) {
			            // Handle errors here (for example, show an error message to the user)
			            console.error('Error deleting course: ' + status + ' - ' + error);
			        },
			        complete: function() {
			            // Unblock the UI after the request completes (regardless of success or failure)
			            $.unblockUI();
			        }
			    });
			}




			 function updateSlots(buttonElement) {
				/* //alert("//alert: "+buttonElement); */
		        var oldClassId = buttonElement.getAttribute('data-oldClassId');
		        var gCourseType = buttonElement.getAttribute('data-gCourseType');
		        var event = buttonElement.getAttribute('data-event');

		        /* //alert("oldClassId: " + oldClassId); */
		        
		        // Your logic here using oldClassId, gCourseType, and event
		        var chkflg = 1;
		        var courseOption1 = "";
		        
		        if ($('input[name=courseOption]:checked').length <= 0) {
		            chkflg = 0;                
		            swal({
		                title: "Select the option",                    
		                confirmButtonColor: '#3085d6'
		            }).then(function(result) {
		                if (result.value) {
		                    // Handle if needed
		                }
		            });
		        }
		        if (chkflg == 1) 
				{/* //alert("chkflg"); */
					var dataParameter = "newCourseDetail=" + $('input:radio[name=courseOption]:checked').val() + "&oldClassId=" + oldClassId;
					$.ajax({
						url : "UpdateRegisteredSlots",
						type : "POST",
						data : dataParameter,
						success : function(response) 
						{
							$('#page-wrapper').html(response);
							//viewCredits();
							modifySlots();
						}
					});
				}
		    


			
			
			
			if (parseInt(chkflg) == 1) 
			{
				d = document.ModifySlot;
							
				if ((d.mailOTP.value.length<5) || (d.mailOTP.value.charAt(0)==" ")) 
				{
					d.mailOTP.select();
					d.mailOTP.focus();
					chkflg = 2;
					swal("Enter E-Mail OTP & it should be 5 charaters.");
				}
				else
				{
					chkflg = 1;
				}
			}
			
			if (parseInt(chkflg) == 1) 
			{
				var lab =  document.getElementById('labSlotVal');
				if(lab!=null && lab.value==1)
				{
					if ($('input[name=courseOption3]:checked').length <= 0) 
					{
						chkflg = 2;				
						swal({
					    	title: "Select the LAB slot",			    	
					    	confirmButtonColor: '#3085d6'
						},
					
						function(button) 
						{			
						    if (button == true) 
						    {
						    	window.setTimeout(function ()
						    	{
						    		
						    	}, 0);		    			    	
						    }
						});				
					}
				}
				else
				{
					chkflg = 1;	
				}
			}
						
			 }	
	

			 function goModifyPage() {
				    // Show a loading indicator before making the AJAX request
				    $.blockUI({
				        message: '<img src="assets/img/482.GIF"> loading... Please wait...'  // You can replace this with any custom message or image
				    });

				    // Send the AJAX request immediately (no delay)
				    $.ajax({
				        url: "modifySlots",  // URL for the modifySlots endpoint
				        type: "POST",        // HTTP method for the request
				        success: function(response) {
				            // Update the page content with the response
				            $('#page-wrapper').html(response);

				            // Call viewCredits() (assuming this function exists and is defined elsewhere)
				            viewCredits();
				        },
				        complete: function() {
				            // Unblock the UI after the request completes (success or failure)
				            $.unblockUI();
				        }
				    });
				}



		
		function viewFFCStoCal() 
		{
			$.blockUI({message : '<img src="assets/img/482.GIF"> loading... Just a moment...'});
			
			$.ajax({
				url : "processFFCStoCal",
				type : "POST",
				success : function(response) 
				{
					$('#page-wrapper').html(response);
					$.unblockUI();
				}
			});
		}

		/************MODIFY EDIT*****************/

		/************VIEW SLOTS*****************/
		function ViewSlotsBack() 
		{
			var searchVal =  $('#searchVal').val();
			var searchType =$('#searchType').val();			
			var params = "pageSize=10&page="+ $('#page').val() +"&searchType="+ searchType 
							+"&searchVal="+  searchVal +"&flag=0";
			
			$.blockUI({message : '<img src="assets/img/482.GIF"> loading... Just a moment...'});
			
			$.ajax({
				url : "processRegistrationOption",
				type : "POST",
				data : params,												
				success : function(response) 
				{
					$('#page-wrapper').html(response);
					$.unblockUI();
				}
			});
		}
		
		function getCorrespondingCourse(courseId, erpId, genericCourseType, classId, event) 
		{
			
			var csrfId = event.getAttribute('data-csrfname') +"="+ event.getAttribute('data-csrfvalue');
			var param = "courseId="+ courseId +"&erpId="+ erpId 
							+"&genericCourseType="+ genericCourseType +"&classId="+ classId +"&"+ csrfId;
			
			$.blockUI({message : '<img src="assets/img/482.GIF"> loading... Just a moment...'});
			
			$.ajax({
				url : "getCorrespondingLabSlots",
				type : "POST",
				data : param,
				success : function(response) 
				{
					$('#page-wrapper').html(response);
					$.unblockUI();
				}				
			});
		}
		
		
		function viewCorrespondingCourse(courseId, erpId, genericCourseType, classId, page, event) 
		{
			var csrfId = event.getAttribute('data-csrfname') +"="+ event.getAttribute('data-csrfvalue');
			var param = "courseId="+ courseId +"&erpId="+ erpId 
							+"&genericCourseType="+ genericCourseType +"&classId="+ classId 
							+"&page="+ page +"&"+ csrfId;
			
			$.blockUI({message : '<img src="assets/img/482.GIF"> loading... Just a moment...'});
			
			$.ajax({
				url : "viewCorrespondingCourse",
				type : "POST",
				data : param,
				success : function(response) 
				{
					$('#page-wrapper').html(response);
					$.unblockUI();
				}				
			});
		}
		
		function callViewSlots(courseId, page, searchType, searchVal, event)
		{
			page = $("#pageNo").val();
			var csrfId = event.getAttribute('data-csrfname') + "=" + event.getAttribute('data-csrfvalue');
			var params = "courseId="+ courseId +"&page="+ page 
							+"&searchType="+ searchType +"&searchVal="+ searchVal 
							+"&"+ csrfId;
						
			$.blockUI({message : '<img src="assets/img/482.GIF"> loading... Just a moment...'});
			
			$.ajax({
				url : "processViewSlots",
				type : "POST",
				data : params,
				success : function(response) 
				{		
					$('#page-wrapper').html(response);
					$.unblockUI();
				}
			});
		}
		
		function modifySlots() {
		    // Show a loading indicator before the AJAX request is sent
		    $.blockUI({
		        message: '<img src="assets/img/482.GIF"> loading... Just a moment...'
		    });

		    // Get the form data
		    var bindData = new FormData(document.getElementById("mainPageForm"));

		    // Send the AJAX request immediately (no delay)
		    $.ajax({
		        url: "modifySlots",  // URL for the modifySlots endpoint
		        type: "POST",        // HTTP method for the request
		        data: bindData,      // Form data to be sent
		        cache: false,
		        processData: false,
		        contentType: false,
		        success: function(response) {
		            // Update the page content with the response
		            $('#page-wrapper').html(response);

		            // Unblock the UI after the request completes
		            $.unblockUI();
		        },
		        error: function(xhr, status, error) {
		            // Handle any error during the request if necessary
		            $.unblockUI();  // Unblock UI even in case of an error
		            console.error("Error occurred while processing modifySlots: " + error);
		        }
		    });
		}


		
		/* function editRegisteredSlots(courseId) {

		    //alert("Button clicked");
		    //alert("courseIdkk"+courseId);
		   
		    // Split the courseId into its components
		    var parts = courseId.split('/');
		    var classId = parts[0];
		    var courseId1 = parts[1];
		    var courseType = parts[2];
		    //alert("classId"+classId);
		    //alert("courseId1"+courseId1);
		    //alert("courseType"+courseType);
		    // AJAX call to send courseId to server
		    $.ajax({
		        url: "editRegisteredSlots",
		        type: "POST",
		        data: {
		            classId: classId,
		            courseId: courseId1,
		            courseType: courseType
		        },
		        success: function(response) {
		            $('#page-wrapper').html(response);
		            viewCredits();
		        },
		        error: function(xhr, status, error) {
		            if (xhr.status == 401) {
		                //alert("Session expired. Please log in again.");
		                window.location.href = "/login"; // Redirect to login page
		            } else {
		                //alert("An error occurred: " + error);
		            }
		        }
		    });
		} */

		/* /*function editRegisteredSlots(courseId) {
		    ////alert("Button clicked");
		    //alert("courseIdkk: " + courseId);
		   
		    // Check if courseId contains the expected format
		    if (!courseId.includes('/')) {
		        ////alert("Error: courseId format is incorrect");
		        return;
		    }
		   
		    // Split the courseId into its components
		    var parts = courseId.split('/');
		    ////alert("Parts array length: " + parts.length);
		   
		    // Ensure we have exactly 3 parts
		    if (parts.length !== 3) {
		        ////alert("Error: Expected 3 parts but got " + parts.length);
		        return;
		    }

		    var classId = parts[0];
		    var courseId1 = parts[1];
		    var courseType = parts[2];

		    ////alert("classId: " + classId);
		    //alert("courseId1: " + courseId1);
		    ////alert("courseType: " + courseType);

		    // AJAX call to send courseId to server
		    $.ajax({
		        url: "editRegisteredSlots",
		        type: "POST",
		        data: {
		            classId: classId,
		            courseId: courseId1,
		            courseType: courseType
		        },
		        success: function(response) {
		            $('#page-wrapper').html(response);
		            viewCredits();
		        },
		        error: function(xhr, status, error) {
		            if (xhr.status == 401) {
		                //alert("Session expired. Please log in again.");
		                window.location.href = "/login"; // Redirect to login page
		            } else {
		                //alert("An error occurred: " + error);
		            }
		        }
		    });
		}*/ 
		
		function editRegisteredSlots(courseId) 
		{/* //alert("editRegisteredSlots"); */
			$.ajax({
				url : "editRegisteredSlots",
				type : "POST",
				data : "courseId=" + courseId,
				success : function(response) 
				{
					$('#page-wrapper').html(response);
					viewCredits();
				}
			});
		}
		function viewCredits() 
		{/* //alert("ViewCredits"); */
			$.ajax({
				url : "ViewCredits",
				type : "POST",
			
				success : function(response) 
				{
					$('#creditsFragment').html(response);
				}
			});
		}	

		
		
		var currenttime = $('#currentDateTime').val();// '6/28/2017 6:27:21 PM';
		var montharray = new Array("Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec");
		var serverdate = new Date(currenttime);

		function padlength(what)
		{
			var output = (what.toString().length==1)? "0"+what : what;
			return output;
		}

		/* function displaytime()
		{
			serverdate.setSeconds(serverdate.getSeconds()+1);
			var datestring = padlength(serverdate.getDate()) +"-"+ montharray[serverdate.getMonth()] +"-"+ serverdate.getFullYear();
			var timestring = padlength(serverdate.getHours())+":"+padlength(serverdate.getMinutes())+":"+padlength(serverdate.getSeconds());
			document.getElementById("servertime").innerHTML = datestring+" "+timestring;
		} */
		/************VIEW SLOTS*****************/

		/*]]>*/
	